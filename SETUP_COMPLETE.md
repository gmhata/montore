# âœ… MONTOREã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

**æ—¥æ™‚**: 2025-11-17  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: MONTOREï¼ˆãƒ¢ãƒ³ãƒˆãƒ¬ - å•è¨ºãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ï¼‰  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 4.00  
**ãƒ™ãƒ¼ã‚¹**: Ver3.57ã‹ã‚‰ç‹¬ç«‹

---

## ğŸ‰ å®Œäº†ã—ãŸä½œæ¥­

### âœ… ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒæ§‹ç¯‰ï¼ˆå®Œäº†ï¼‰

1. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ”ãƒ¼**
   - Ver3ï¼ˆ/home/user/webappï¼‰ã‹ã‚‰MONTOREï¼ˆ/home/user/montoreï¼‰ã«ã‚³ãƒ”ãƒ¼
   - ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«é™¤å¤–ï¼ˆ.git, node_modulesç­‰ï¼‰

2. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDçµ±ä¸€**
   - `ver6-trainer-dev` â†’ `montore-e35be` ã«æ›´æ–°
   - ãƒãƒ¼ã‚¸ãƒ§ãƒ³: `3.57` â†’ `4.00`
   - å…¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°å®Œäº†

3. **Firebaseè¨­å®šæ›´æ–°**
   - `public/auth.js`: montore-e35be ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®firebaseConfig
   - cloudbuildè¨­å®š: FIREBASE_PROJECT_IDæ›´æ–°

4. **GitåˆæœŸåŒ–**
   - æ–°ã—ã„Gitãƒªãƒã‚¸ãƒˆãƒªä½œæˆ
   - 3å›ã®ã‚³ãƒŸãƒƒãƒˆå®Œäº†
   - ãƒªãƒ¢ãƒ¼ãƒˆè¨­å®š: https://github.com/gmhata/montore.git

5. **ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
   - `npm install` å®Œäº†ï¼ˆ245ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼‰

6. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ**
   - README.md: MONTOREç”¨ã«å…¨é¢æ›¸ãæ›ãˆ
   - DEPLOYMENT_GUIDE.md: è©³ç´°ãªãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †
   - start-local.sh: ãƒ­ãƒ¼ã‚«ãƒ«èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### âœ… Firebase/GCPè¨­å®šï¼ˆå®Œäº†ï¼‰

- **Firebase Project**: montore-e35be
- **Firestore Database**: ä½œæˆæ¸ˆã¿ï¼ˆasia-northeast1ï¼‰
- **Authentication**: ãƒ¡ãƒ¼ãƒ«/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–æ¸ˆã¿
- **GCP APIs**: æœ‰åŠ¹åŒ–æ¸ˆã¿
  - Cloud Run API
  - Cloud Build API
  - Artifact Registry API
  - Secret Manager API

### âœ… Ver3ä¿è­·ï¼ˆç¢ºèªæ¸ˆã¿ï¼‰

- âœ… Ver3ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆ/home/user/webapp/ï¼‰: å¤‰æ›´ãªã—
- âœ… Ver3ã®Gitå±¥æ­´: ä¿è­·æ¸ˆã¿
- âœ… Ver3ã®æœ€çµ‚ã‚³ãƒŸãƒƒãƒˆ: 920e0a7ï¼ˆæŠ€è¡“ä»•æ§˜æ›¸ä½œæˆï¼‰
- âœ… MONTOREã¯å®Œå…¨ã«ç‹¬ç«‹

---

## ğŸ“‹ æ¬¡ã«å®Ÿæ–½ã™ã‚‹ã“ã¨

### ğŸ”´ å¿…é ˆ: GitHubã¸ã®ãƒ—ãƒƒã‚·ãƒ¥

ç¾åœ¨ã€ãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚³ãƒŸãƒƒãƒˆãŒGitHubã«ãƒ—ãƒƒã‚·ãƒ¥ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã®æ–¹æ³•ã§ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ãã ã•ã„ï¼š

#### æ–¹æ³•A: Personal Access Tokenã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰

1. GitHub Personal Access Tokenã‚’ä½œæˆ
   - https://github.com/settings/tokens
   - ã€ŒGenerate new token (classic)ã€
   - ã‚¹ã‚³ãƒ¼ãƒ—: `repo` ã«ãƒã‚§ãƒƒã‚¯
   - ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼

2. Gitèªè¨¼æƒ…å ±ã‚’è¨­å®š
   ```bash
   cd /home/user/montore
   
   # ãƒªãƒ¢ãƒ¼ãƒˆURLã‚’æ›´æ–°ï¼ˆtokenã‚’åŸ‹ã‚è¾¼ã¿ï¼‰
   git remote set-url origin https://YOUR_TOKEN@github.com/gmhata/montore.git
   
   # ãƒ—ãƒƒã‚·ãƒ¥
   git push -u origin main
   ```

#### æ–¹æ³•B: SSH Keyã‚’ä½¿ç”¨

1. SSHã‚­ãƒ¼ã‚’ç”Ÿæˆï¼ˆã¾ã ã®å ´åˆï¼‰
   ```bash
   ssh-keygen -t ed25519 -C "your_email@example.com"
   ```

2. å…¬é–‹éµã‚’GitHubã«ç™»éŒ²
   - https://github.com/settings/keys
   - ã€ŒNew SSH keyã€
   - `cat ~/.ssh/id_ed25519.pub` ã®å†…å®¹ã‚’è²¼ã‚Šä»˜ã‘

3. ãƒªãƒ¢ãƒ¼ãƒˆURLã‚’SSHã«å¤‰æ›´
   ```bash
   cd /home/user/montore
   git remote set-url origin git@github.com:gmhata/montore.git
   git push -u origin main
   ```

#### æ–¹æ³•C: æ‰‹å‹•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

1. GitHubã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰‹å‹•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. ã¾ãŸã¯GitHub Desktopã‚¢ãƒ—ãƒªã‚’ä½¿ç”¨

---

### ğŸŸ¡ æ¨å¥¨: Cloud Runã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤

GitHubãƒ—ãƒƒã‚·ãƒ¥å®Œäº†å¾Œã€ä»¥ä¸‹ã®æ‰‹é †ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ãã ã•ã„ï¼š

è©³ç´°ã¯ **DEPLOYMENT_GUIDE.md** ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

#### ã‚¯ã‚¤ãƒƒã‚¯ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

1. **OpenAI API Keyã‚’Secret Managerã«ç™»éŒ²**
   ```bash
   gcloud config set project montore-e35be
   echo -n "YOUR_OPENAI_API_KEY" | gcloud secrets create OPENAI_API_KEY --data-file=-
   ```

2. **Cloud Storage Bucketã‚’ä½œæˆ**
   ```bash
   gsutil mb -p montore-e35be -c STANDARD -l asia-northeast1 gs://montore-recordings
   ```

3. **Cloud Buildãƒˆãƒªã‚¬ãƒ¼ã‚’è¨­å®š**
   - https://console.cloud.google.com/cloud-build/triggers?project=montore-e35be
   - ã€Œãƒˆãƒªã‚¬ãƒ¼ã‚’ä½œæˆã€
   - GitHubé€£æº: gmhata/montore
   - ãƒ–ãƒ©ãƒ³ãƒ: main
   - æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«: cloudbuild-dev.yaml

4. **ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ**
   ```bash
   # GitHubã«ãƒ—ãƒƒã‚·ãƒ¥ï¼ˆè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰
   git push origin main
   
   # ã¾ãŸã¯æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤
   gcloud builds submit --config=cloudbuild-dev.yaml
   ```

5. **Firebaseèªè¨¼ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¿½åŠ **
   - Firebase Console > Authentication > Settings
   - Cloud Runã®URLï¼ˆä¾‹: montore-xxxxx-an.a.run.appï¼‰ã‚’è¿½åŠ 

---

## ğŸ§ª ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ

GitHubãƒ—ãƒƒã‚·ãƒ¥å‰ã«ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ†ã‚¹ãƒˆã§ãã¾ã™ï¼š

### èµ·å‹•æ–¹æ³•

```bash
cd /home/user/montore

# OpenAI API Keyã‚’ç’°å¢ƒå¤‰æ•°ã§è¨­å®š
export OPENAI_API_KEY="sk-proj-YOUR_KEY"

# ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆãƒãƒ¼ãƒˆ4000ï¼‰
./start-local.sh

# ã¾ãŸã¯ç›´æ¥èµ·å‹•
PORT=4000 node server.js
```

### ã‚¢ã‚¯ã‚»ã‚¹

ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã«ã‚¢ã‚¯ã‚»ã‚¹ï¼š
- http://localhost:4000

### æ³¨æ„äº‹é …

- ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆã§ã¯Firebase AuthenticationãŒå¿…è¦ã§ã™
- `public/auth.js`ã®firebaseConfigãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
- OpenAI API KeyãŒå¿…è¦ï¼ˆVer3ã¨åŒã˜ã‚­ãƒ¼ã‚’ä½¿ç”¨å¯èƒ½ï¼‰

---

## ğŸ“Š ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
/home/user/
â”œâ”€â”€ webapp/          â† Ver3ï¼ˆver6-trainer-devï¼‰
â”‚   â”œâ”€â”€ .git/        â† Ver3ã®Gitï¼ˆä¿è­·æ¸ˆã¿ï¼‰
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ montore/         â† MONTOREï¼ˆæ–°è¦ï¼‰
    â”œâ”€â”€ .git/        â† MONTOREã®Gitï¼ˆç‹¬ç«‹ï¼‰
    â”œâ”€â”€ public/
    â”‚   â”œâ”€â”€ index.html
    â”‚   â”œâ”€â”€ auth.js      (Firebaseè¨­å®šæ¸ˆã¿)
    â”‚   â”œâ”€â”€ admin.js
    â”‚   â””â”€â”€ practice.js
    â”œâ”€â”€ server.js
    â”œâ”€â”€ package.json     ("montore", "4.0.0")
    â”œâ”€â”€ cloudbuild-dev.yaml
    â”œâ”€â”€ README.md
    â”œâ”€â”€ DEPLOYMENT_GUIDE.md
    â”œâ”€â”€ SETUP_COMPLETE.md (ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«)
    â””â”€â”€ start-local.sh
```

### Gitå±¥æ­´

```
751bd60 docs: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰ã¨ãƒ­ãƒ¼ã‚«ãƒ«èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ 
0ff522b config: Firebaseè¨­å®šã‚’æ›´æ–°
8f6476c feat: MONTOREãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ– v4.00
```

---

## ğŸ”§ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¾ã¨ã‚

### Firebaseè¨­å®šï¼ˆpublic/auth.jsï¼‰

```javascript
const firebaseConfig = {
  apiKey: "AIzaSyBo3TDmGkYCtuPnTYxIPbB-AF02p86jpBI",
  authDomain: "montore-e35be.firebaseapp.com",
  projectId: "montore-e35be",
  storageBucket: "montore-e35be.firebasestorage.app",
  messagingSenderId: "327159500498",
  appId: "1:327159500498:web:f104de2e4a9d4f041f270b",
  measurementId: "G-TTK7RQRZKB"
};
```

### ç’°å¢ƒå¤‰æ•°ï¼ˆCloud Runï¼‰

```
FIREBASE_PROJECT_ID=montore-e35be
FIRESTORE_PROJECT_ID=montore-e35be
APP_VERSION=4.00
ASSETS_BUCKET=montore-recordings
OPENAI_API_KEY=<Secret Managerã‹ã‚‰å–å¾—>
```

---

## ğŸ¯ ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### å®Œäº†æ¸ˆã¿ âœ…

- [x] Ver3ã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼
- [x] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDæ›´æ–°
- [x] Firebaseè¨­å®šæ›´æ–°
- [x] GitåˆæœŸåŒ–
- [x] npm install
- [x] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
- [x] Firebase Projectä½œæˆ
- [x] Firestore Databaseä½œæˆ
- [x] Authenticationè¨­å®š
- [x] GCP APIæœ‰åŠ¹åŒ–
- [x] Ver3ä¿è­·ç¢ºèª

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ— â­ï¸

- [ ] **GitHubã«ãƒ—ãƒƒã‚·ãƒ¥**ï¼ˆå¿…é ˆï¼‰
- [ ] OpenAI API Keyç™»éŒ²ï¼ˆSecret Managerï¼‰
- [ ] Cloud Storage Bucketä½œæˆ
- [ ] Cloud Buildãƒˆãƒªã‚¬ãƒ¼è¨­å®š
- [ ] åˆå›ãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] Firebaseèªè¨¼ãƒ‰ãƒ¡ã‚¤ãƒ³è¿½åŠ 
- [ ] ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ
- [ ] å‹•ä½œç¢ºèª

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆï¼š

1. **DEPLOYMENT_GUIDE.md** ã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§
2. **README.md** ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ãƒ»ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª
3. GitHub Issues ã§å ±å‘Š

---

## ğŸ‰ ã¾ã¨ã‚

MONTOREãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸï¼

- âœ… Ver3ã‹ã‚‰å®Œå…¨ç‹¬ç«‹ã—ãŸç’°å¢ƒ
- âœ… Firebaseè¨­å®šå®Œäº†
- âœ… ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆæº–å‚™å®Œäº†
- âœ… ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †æ›¸å®Œå‚™

æ¬¡ã¯ï¼š
1. **GitHubã«ãƒ—ãƒƒã‚·ãƒ¥**
2. **Cloud Runã«ãƒ‡ãƒ—ãƒ­ã‚¤**
3. **é‹ç”¨é–‹å§‹ï¼**

é ‘å¼µã£ã¦ãã ã•ã„ï¼ğŸš€
